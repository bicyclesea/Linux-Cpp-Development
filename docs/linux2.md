# Linux系统编程（2）

## 1015 Linux系统编程之网络编程01

### 1. OSI模型有哪些层？TCP/IP模型有哪些层？他们之间的对应关系是怎样的？

答：



### 2. TCP/IP协议族常见的协议有哪些？他们分别属于TCP/IP模型的哪一层？

答：



### 3. http的请求方式中: get请求和post请求有什么区别, 试说明

答：



### 总结

- 



## 1016 Linux系统编程之网络编程02

### 1. HTTP请求报文和响应报文由哪些部分组成？HTTP常用方法有哪些？HTTP常用状态码有哪些？



### 2. 对称加密和非对称加密有什么区别？简要说明一下HTTPS的握手阶段流程。



### 3. URI由哪些部分组成？



### 4. HTTP的中文全称是什么？从全称的每个字段来说明HTTP的特点。



### 5. 使用浏览器或者抓包工具, 抓一个http的包, 截图标注一个http请求有那些信息需要重点关注。



### 总结



## 1017 Linux系统编程之网络编程03

### 1. TCP协议如何保证数据的可靠传输？

答：



### 2. 为什么TCP需要三次握手？两次握手为什么不行？

答：



### 3. TCP断开连接时为什么是4次挥手？为什么主动断开的一方要经历TIME_WAIT状态？

答：



### 4. 通过wireshark抓包分析TCP三次握手过程，尝试解读TCP协议的每一个字段，截图显示抓包结果。

答：



### 5. 在net转换的时候, 路由器会做什么事情? 简要说明

答：



### 总结

- 



## 1018 Linux系统编程之网络编程04

### 1. 什么是大端模式和小端模式，什么是主机字节序和网络字节序？编写代码，验证一下自己的机器是大端模式还是小端模式？

答：



### 2. 根据域名，获取一下知名互联网厂商的IP地址信息，如阿里、京东、腾讯、百度。

答：



### 3. 说说socket、bind、listen、connect函数分别有什么作用呢？

答：



### 4. 使用recv和send函数时发生了什么？

答：



### 5. 编写两个程序，一个是客户端另一个是服务端，它们通过tcp连接进行即时聊天。

答：



### 总结





## 1019 Linux系统编程之网络编程05

### 1. 让socket底层基于TCP, 实现代码让两个客户端连接同一个服务端, 两者之间可以相互通信。

答：



### 2. 选做: 让socket底层基于TCP, 实现代码让多个客户端连接同一个服务端, 实现群聊效果(一个人发信息, 别人都可以收到)。

答：



### 总结

- 



## 1020 Linux系统编程之网络编程06

### 1. 边缘触发和水平触发是什么？为什么使用边缘触发的时候必须配合非阻塞IO？

答：



### 2. 把前面写的群聊的代码, 试着改成epoll实现。

答：



### 总结





## 1021 Linux系统编程之网络编程07

### 1. 参考我们上课的代码: 让子进程A打开一个文件, 把这个文件描述符信息发给父进程B, 让父进程B在这个文件上能写一个字符串。



### 2. 仿照我们上课写的进程池, 自己手写(不要直接复制)一个进程池代码 (如果有余力可以试着优化功能)



### 总结





## 1022 Linux系统编程之网络编程08

### 1. 在今天代码的基础上: 实现函数(客户端): recvn(int netfd, void *buf, int length)。该函数可以在不使用MSG_WAITALL的情况下，往buf指向的内存中接收任意长度(length)的数据。即: 把我们的代码由 recv(netFd,buf, len,MSG_WAITALL) 改为调用我们自己实现的 recvn(netfd, buf, length)。

答：





### 2. 选做: 假设服务端有两个文件A.txt, B.txt; 当客户端要求(发送请求)下载A.txt, 服务器传输A.txt给客户端; 当客户端要求下载B.txt的时候, 服务器传输B.txt给客户端

答：





### 总结

- 



## 1023 Linux系统编程之网络编程09

### 1. 上课代码好好看看写写。

答：



### 2. 把我们上课没有写完的队列实现(我们上课只是定义了queue.h, 没有实现queue.c), 写出来(queue.c)。

答：



### 3. 上课说在有序退出的时候, 我们在实现调用sendFd的时候偷懒了, 把sendFd(int local_socket_fd, int net_fd)改造成sendFd(int local_socket_fd, int net_fd, int tag)的模式, 把对应的recvFd也改改。

答：



### 总结

- 



## 1024 Linux系统编程之网络编程10

### 1. 把线程池的代码最好自己手写一遍(如果能自己独立写出来更好)。



### 2. (选作)把我们上课写的线程池的代码选择一个方向进行优化实现(eg: 限制任务队列长度, 队列长度超出的时候, 给用户回复服务器忙.  或者自选优化方向)。



### 3. 把git的今天讲的命令练习一下, 截图提交。



### 总结



## 1025 关系型数据库MySQL01

### 1. 练习今天讲的所有Git命令(提交部分命令的关键截图即可)。

答：



### 2. 模拟和同桌共同使用开发一个项目, 制造冲突, 解决冲突。

答：



### 3. 创建分支, 试着在分支上写代码并且感受合并分支。

答：



### 4. 通过我们在Ubuntu系统中安装的mysql客户端, 创建一个名为'订单'的数据库, 截图提交。

答：



### 总结

- 



## 1026 关系型数据库MySQL02

### 1. 新建如下表 user表，按要求写出如下SQL语句

1. 写出建表语句
2. 增加 年龄这一列
3. 修改身高 为浮点类型
4. 插入10条数据
5. 修改id = 10 的名字为'乔峰'
6. 修改 id 不为1和2 的性别为 '男'

| id   | name   | nickname | gender | height | weight | score | birthday | nation |
| ---- | ------ | -------- | ------ | ------ | ------ | ----- | -------- | ------ |
| int  | String | String   | String | int    | int    | float | Date     | String |
| 编号 | 名字   | 昵称     | 性别   | 身高   | 体重   | 分数  | 生日     | 地区   |

答：



### 2. 有如下一张表

```sql
create table student(
    id int,
    name varchar(20),
    chinese float,
    english float,
    math float
);
```

1. 请添加2列信息，出生日期，籍贯。
2. 请修改语文成绩的数据类型为int型
3. 请在里面插入10名学生数据
4. 假设10名同学中有同姓的，如王，请找出姓王同学的信息
5. 请找出各科不及格学生的信息
6. 请找出有任何一科不及格学生的名称
7. 请找出两科成绩在90分以上的学生名称
8. 请找出没有一科挂科的学生名称

---

答：



### 3. 新建一个学生表S，有包含如下信息

学号 id，
学生姓名 name，
性别 gender，
年龄 age，

专业 dept，

所在系编号 …等

并插入10条数据。

学号格式为 201801 201802 201803...
性别只有 'male' & 'female'
院系包含（信息系、数学系，计算机科学系 等）


然后做如下查询：

-- 1.查询全体学生的学号与姓名。

-- 3.查询全体学生的详细记录。

-- 4.查询全体学生的姓名、出生年份和所属部门 使用列别名改变查询结果的列标题

-- 7.查询所有年龄在20岁以下的学生姓名及其年龄。

-- 8.查询年龄在20~23岁（包括20岁和23岁）之间的学生的姓名、系别和年龄。

-- 9.查询年龄不在20~23岁之间的学生姓名、系别和年龄。

-- 10.查询信息系、数学系和计算机系学生的姓名和性别。

-- 11.查询既不是信息系、数学系，也不是计算机科学系的学生的姓名和性别。

-- 12.查询学号为200518的学生的详细情况。

-- 13.查询所有姓刘学生的姓名、学号和性别。

-- 14.查询姓“李”且全名为两个汉字的学生的姓名。

-- 15.查询名字中第2个字为“立"字的学生的姓名和学号。

-- 16.查询所有不姓刘的学生姓名。

-- 17.查询学号在201801~201809之间的学生姓名。

---

答：



### 4. 创建一个城市表，字段有id、名字、所属国家名字、人口、所属省份，并插入若干数据。

-- 1. 查询所有城市名及人口信息

-- 2. 查询city表中，所有中国的城市信息

-- 3. 查询人口数小于100人城市信息

-- 4. 查询中国,人口数超过500的所有城市信息

-- 5. 查询中国或美国的城市信息

-- 6. 查询人口数为100-200（包括两头）城市信息

-- 7. 查询中国或美国，人口数大于500的城市

-- 8. 查询城市名为qing开头的城市信息

---

答：



### 总结

- 



## 1027 关系型数据库MySQL03

### 1. 新建一个学生表S，有包含如下信息

学号 id，
学生姓名 name，
性别 gender，
年龄 age，

专业 dept，

所在系编号 …等

并插入10条数据。

学号格式为 201801 201802 201803...
性别只有 'male' & 'female'
院系包含（信息系、数学系，计算机科学系 等）


然后做如下查询：

-- 1.查询不同院系学生的人数。
-- 2.查询不同院系学生的平均年龄，并以降序排序。
-- 3.查询计算机系年龄在20岁以下的学生姓名。
-- 4.查询全体学生情况，查询结果按所在系的系号升序排列，同一系中的学生按年龄降序排列。

---

答：



### 2. 创建一个城市表，字段有id、名字、所属国家名字、人口、所属省份，并插入若干数据。

1. 统计city表的行数

2. 统计各国城市的个数

3. 统计每个国家的城市总人口数

4. 统计中国每个省的城市个数及城市名列表

5. 统计每个国家的城市个数,并且只显示超过5个城市的国家

6. 统计每个国家的城市个数,并且只显示超过5个城市的国家并按照从大到小排序

7. 统计每个国家的城市个数,并且只显示超过5个城市的国家并按照从大到小排序,并且只显示排名前三

---

答：



### 3. 某大学研究生院有若干研究生导师，包括职工编号、姓名、职称、研究方向，其中每个导师的职工编号是唯一的。

若干研究生，包括学号、姓名、性别、入学日期，其中每个研究生的学号是唯一的。

每个导师可以带若干研究生，但每个研究生只能有一个导师。

请设计一个数据库，要求可以正确体现导师和研究生之间的关系。

设计完毕之后，请插入一定量的数据，并验证你设计的数据库是否满足要求。

-- 1.请查出每个导师所带研究生的姓名。

-- 2.清查出特定姓名的导师所带研究生的姓名。

-- 3.请查出每个导师所带研究生的数量。

-- 4.请查出每个导师所带的男研究生的数量。

-- 5.请找出选择哪个研究方向的导师最多。

-- 6.请找统计不同职称的导师的个数。

---

答：



### 4. 在数据库中创建如下两张表

```sql
create table dept
(
deptno varchar(10) primary key,
dname varchar(10)
);
create table emp
(
empno varchar(10) primary key,
ename varchar(10),
job varchar(10),
mgr varchar(10),
sal float,
deptno varchar(10) references dept(deptno)
);
insert into dept values ('1','事业部');
insert into dept values ('2','销售部');
insert into dept values ('3','技术部');
insert into emp values ('01','jacky','clerk','tom','1000','1');
insert into emp values ('02','tom','clerk','','2000','1');
insert into emp values ('07','biddy','clerk','','2000','1');
insert into emp values ('03','jenny','sales','pretty','600','2');
insert into emp values ('04','pretty','sales','','800','2');
insert into emp values ('05','buddy','jishu','canndy','1000','3');
insert into emp values ('06','canndy','jishu','','1500','3');
select * from dept;
select * from emp;
```

--1. 列出emp表中各部门的部门号，最高工资，最低工资

--2. 列出emp表中各部门job为'CLERK'的员工的最低工资，最高工资

--3. 对于emp中最低工资小于2000的部门，列出job为'CLERK'的员工的部门号，最低工资，最高工资

--4. 根据部门号由高而低，工资有低而高列出每个员工的姓名，部门号，工资

--5. 列出'buddy'所在部门中每个员工的姓名与部门号

--6. 列出每个员工的姓名，工作，部门号，部门名

--7. 列出emp中工作为'CLERK'的员工的姓名，工作，部门号，部门名

--8. 对于emp中有管理者的员工，列出姓名，管理者姓名（管理者外键为mgr）

--9. 对于dept表中，列出所有部门名，部门号，同时列出各部门工作为'CLERK'的员工名与工作

--10. 对于工资高于本部门平均水平的员工，列出部门号，姓名，工资，按部门号排序

--11. 对于emp，列出各个部门中工资高于本部门平均工资的员工数和部门号，按部门号排序

---

答：



### 总结

- 



## 1028 关系型数据库MySQL04

### 1. 使用c_api向数据库分别实现对数据的: 增删改查。

答：



### 2. 参照我们上课演示的隔离级别: 自己实操演示感知一遍(截图提交: 只要提交部分关键图)。

答：



### 总结

- 





